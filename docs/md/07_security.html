<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Безопасность | Электронный учебник</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="">
    
    <link rel="preload" href="../../assets/css/0.styles.e8e4f3a3.css" as="style"><link rel="preload" href="../../assets/js/app.1cba38f9.js" as="script"><link rel="preload" href="../../assets/js/2.733019b2.js" as="script"><link rel="preload" href="../../assets/js/15.c6688901.js" as="script"><link rel="prefetch" href="../../assets/js/10.b52bcba7.js"><link rel="prefetch" href="../../assets/js/11.0e3f0ce4.js"><link rel="prefetch" href="../../assets/js/12.ee5da103.js"><link rel="prefetch" href="../../assets/js/13.402f33c0.js"><link rel="prefetch" href="../../assets/js/14.c3a933ba.js"><link rel="prefetch" href="../../assets/js/3.df158bf2.js"><link rel="prefetch" href="../../assets/js/4.d12742be.js"><link rel="prefetch" href="../../assets/js/5.216cae74.js"><link rel="prefetch" href="../../assets/js/6.2d0a63f8.js"><link rel="prefetch" href="../../assets/js/7.9c9172a7.js"><link rel="prefetch" href="../../assets/js/8.d6a3e742.js"><link rel="prefetch" href="../../assets/js/9.5d729a19.js">
    <link rel="stylesheet" href="../../assets/css/0.styles.e8e4f3a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="../../" class="home-link router-link-active"><!----> <span class="site-name">Электронный учебник</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Безопасность</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../../docs/md/07_security.html#безопасность-веб-приложении" class="sidebar-link">Безопасность веб-приложений</a><ul class="sidebar-sub-headers"></ul></li><li><a href="../../docs/md/07_security.html#хэширование-паролеи" class="sidebar-link">Хэширование паролей</a><ul class="sidebar-sub-headers"></ul></li><li><a href="../../docs/md/07_security.html#фильтрация-данных" class="sidebar-link">Фильтрация данных</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="../../docs/md/07_security.html#санитизация" class="sidebar-link">Санитизация</a></li><li class="sidebar-sub-header"><a href="../../docs/md/07_security.html#валидация" class="sidebar-link">Валидация</a></li></ul></li><li><a href="../../docs/md/07_security.html#конфигурационные-фаилы" class="sidebar-link">Конфигурационные файлы</a><ul class="sidebar-sub-headers"></ul></li><li><a href="../../docs/md/07_security.html#использование-глобальных-переменных" class="sidebar-link">Использование глобальных переменных</a><ul class="sidebar-sub-headers"></ul></li><li><a href="../../docs/md/07_security.html#сообщения-об-ошибках" class="sidebar-link">Сообщения об ошибках</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="../../docs/md/07_security.html#разработка" class="sidebar-link">Разработка</a></li><li class="sidebar-sub-header"><a href="../../docs/md/07_security.html#продакшн" class="sidebar-link">Продакшн</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="безопасность"><a href="#безопасность" class="header-anchor">#</a> Безопасность</h1> <h2 id="безопасность-веб-приложении"><a href="#безопасность-веб-приложении" class="header-anchor">#</a> Безопасность веб-приложений</h2> <p>Есть плохие люди, которые могут и хотят взломать ваши веб-приложения. Важно принять необходимые меры предосторожности, чтобы укрепить безопасность вашего приложения. К счастью, прекрасные люди в <a href="https://www.owasp.org/" target="_blank" rel="noopener noreferrer">The Open Web Application Security Project<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (OWASP) составили полный список известных проблем безопасности и методов защиты от них. Это должно быть прочитано любым разработчиком, заботящимся о безопасности.</p> <ul><li><a href="https://www.owasp.org/index.php/Guide_Table_of_Contents" target="_blank" rel="noopener noreferrer">Прочитать руководство по безопасности OWASP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="хэширование-паролеи"><a href="#хэширование-паролеи" class="header-anchor">#</a> Хэширование паролей</h2> <p>Наверное, каждый PHP-разработчик занимается разработкой приложений, которые нуждаются в пользовательской авторизации. Имя пользователя и пароль хранятся в базе данных и позже используются для авторизации пользователя.</p> <p>Очень важно правильно <a href="http://ru.wikipedia.org/wiki/%D0%9A%D1%80%D0%B8%D0%BF%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F_%D1%85%D0%B5%D1%88-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F" target="_blank" rel="noopener noreferrer"><em>хэшировать</em><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> пароль перед его сохранением. Хэширование пароля является необратитым, односторонняя функция применяется на пользовательских паролях. Она возвращает строку определенной длины, которую невозможно расшифровать. Это значит, что вы можете сравнить один хэш с другим, чтобы понять, что они пришли из одной и той же исходной строки, но вы не можете определить оригинальную строку. Если ваши пароли не захэшированы, и доступ к базе данных получен третьй стороной, то ваши пользовательские аккаунты теперь скомпрометированы. Некоторые пользователи (к сожалению) могут использовать один и тот же пароль для разных сервисов. Как бы то ни было, очень важно серьезно относиться к безопасности.</p> <p><strong>Хэширование паролей с функцией <code>password_hash</code></strong></p> <p>В PHP 5.5 была представлена функция <code>password_hash</code>. Сейчас она использует BCrypt, сильнейший алгоритм, поддерживаемый PHP. Она будет обновлена в будущем, для поддержки бОльшего числа алгоритмов, по мере необходимости. Библиотека <code>password_compat</code> была создана для обратной совместимости с PHP &gt;= 5.3.7.</p> <p>Ниже мы хэшируем строку и далее сверяем её с новой строкой. Поскольку наши две исходные строки отличаются ('secret-password' и 'bad-password') эта авторизация будет неудачной.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">require</span> <span class="token string single-quoted-string">'password.php'</span><span class="token punctuation">;</span>

<span class="token variable">$passwordHash</span> <span class="token operator">=</span> <span class="token function">password_hash</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'secret-password'</span><span class="token punctuation">,</span> <span class="token constant">PASSWORD_DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">password_verify</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'bad-password'</span><span class="token punctuation">,</span> <span class="token variable">$passwordHash</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//Правильный пароль</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">//Неправильный пароль</span>
<span class="token punctuation">}</span>
</span></code></pre></div><ul><li>[Подробнее о <code>password_hash</code>] <a href="https://www.owasp.org/" target="_blank" rel="noopener noreferrer">1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>[<code>password_compat</code> для PHP  &gt;= 5.3.7 &amp;&amp; &lt; 5.5] <a href="https://www.owasp.org/index.php/Guide_Table_of_Contents" target="_blank" rel="noopener noreferrer">2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>[Подробнее о хэшировании в отношении криптографии] <a href="http://ru.wikipedia.org/wiki/%D0%9A%D1%80%D0%B8%D0%BF%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F_%D1%85%D0%B5%D1%88-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F" target="_blank" rel="noopener noreferrer">3<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>[PHP <code>password_hash</code> RFC] <a href="https://wiki.php.net/rfc/password_hash" target="_blank" rel="noopener noreferrer">4<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="фильтрация-данных"><a href="#фильтрация-данных" class="header-anchor">#</a> Фильтрация данных</h2> <p>Никогда не доверяйте пользовательскому вводу, который передаётся вашему PHP коду. Всегда проверяйте и очищайте пользовательский ввод перед его использованием в коде. Функции <code>filter_var</code> и <code>filter_input</code> помогут очистить переменные, а также проверить соответствие введённых данных некоторому формату (например, адрес электронной почты).</p> <p>Пользовательский ввод может быть различным: <code>$_GET</code> и <code>$_POST</code>, данные введённые в форму, некоторые значения в суперглобальной переменной <code>$_SERVER</code> и тело HTTP запроса, открытое с помощью <code>fopen('php://input', 'r')</code>. Запомните, что пользовательский ввод не ограничивается данными формы, отправленной пользователем. Отправляемые и загружаемые файлы, значения сессий, данные cookie и данные сторонних веб-сервисов также приравниваются к пользовательскому вводу.</p> <p>Хотя пользовательские данные могут быть без проблем сохранены, скомбинированы и к ним может быть получен доступ позже, они всё ёще являются пользовательским вводом. Каждый раз, когда вы что-либо обрабатываете, объединяете или подключаете данные в ваш код, спросите себя, отфильтрованы ли эти данные и можно ли им доверять.</p> <p>Данные могут быть <em>отфильтрованы</em> по-разному, в зависимости от их назначения. Например, когда нефильтрованные данные, введённые пользоватем, передаются в HTML код страницы, он может выполнить HTML и JavaScript на вашем сайте! Этот тип атаки известен, как Cross-Site-Scripting (XSS) и может иметь очень серьёзные последствия. Один из способов избежать XSS заключается в очистке ввода от всех HTML тэгов (их удалением, или заменой на HTML символы) с помощью функции <code>strip_tags</code> или экранирование символов в равносильные им HTML сущности с функцией <code>htmlentities</code> или <code>htmlspecialchars</code>.</p> <p>Другой пример, передача данных для выполнения командной строкой. Это может быть крайне опасно (и, как правило — это плохая идея), но вы можете использовать встроенную функцию <code>escapeshellarg</code> для очистки аргументов командной строки.</p> <p>Последний пример, принимает пользовательский ввод, чтобы определить, какой файл загружать из файловой системы. Это может быть использовано для изменения имени файла на путь файла. Вам нужно убрать &quot;/&quot;, &quot;../&quot;, <a href="http://php.net/manual/ru/security.filesystem.nullbytes.php" target="_blank" rel="noopener noreferrer">нулевые байты<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> или другие символы из пути файла, так чтобы скрипт не мог загружать скрытые, непубличные или конфиденциальные файлы.</p> <ul><li><a href="https://www.owasp.org/" target="_blank" rel="noopener noreferrer">Подробнее о фильтрации данных<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://wiki.php.net/rfc/password_hash" target="_blank" rel="noopener noreferrer">Подробнее о функции <code>filter_var</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://www.php.net/manual/ru/function.filter-input.php" target="_blank" rel="noopener noreferrer">Подробнее о функции <code>filter_input</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://php.net/manual/ru/security.filesystem.nullbytes.php" target="_blank" rel="noopener noreferrer">Подробнее об обработке нулевых байтов<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="санитизация"><a href="#санитизация" class="header-anchor">#</a> Санитизация</h3> <p>Санитизация удаляет (или экранирует) неправильные или небезопасные символы из пользовательского ввода.</p> <p>Например, вам необходимо нормализовать пользовательский ввод перед подключением ввода в HTML или
его вставкой в сырой SQL запрос. Когда вы используете связанные параметры с <a href="#databases">PDO</a>,
они будут очищать ввод за вас.</p> <p>Иногда требуется разрешить некоторые безопасные HTML тэги в вводе, когда он подключается в HTML
страницу. Это очень трудно сделать и многие избегают этого, используя ограниченное форматирование,
как например Markdown или BBCode, либо библиотеки с белым списком, как <a href="http://htmlpurifier.org/" target="_blank" rel="noopener noreferrer">HTML Purifier<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,
существующие по этой причине.</p> <p><a href="https://www.owasp.org/index.php/Guide_Table_of_Contents" target="_blank" rel="noopener noreferrer">Санитизационные фильтры<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="валидация"><a href="#валидация" class="header-anchor">#</a> Валидация</h3> <p>Валидация гарантирует, что пользовательский ввод, является тем, что вы ожидаете. Например, вы
можете валидировать адрес электронной почты, номер телефона или возраст при обработке запроса
регистрации.</p> <p><a href="http://ru.wikipedia.org/wiki/%D0%9A%D1%80%D0%B8%D0%BF%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F_%D1%85%D0%B5%D1%88-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F" target="_blank" rel="noopener noreferrer">Валидационные фильтры<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="конфигурационные-фаилы"><a href="#конфигурационные-фаилы" class="header-anchor">#</a> Конфигурационные файлы</h2> <p>Когда вы создаёте файлы конфигурации для ваших приложений, рекомендуется использование одного из следующих способов:</p> <ul><li>Рекомендуется хранить вашу конфигурационную информацию там, где к ней не может быть получен доступ напрямую, а доступ к ней осуществлялся через файловую систему.</li> <li>Если вы вынуждены хранить конфигурационные файлы в корневом каталоге, именуйте файл с расширением <code>.php</code>. Это гарантирует, что, если к скрипту обратятся напрямую, он не будет выведен, как обычный текст.</li> <li>Информация в файлах конфигурации, должна быть защищена соответственно, либо с помощью шифрования или системных прав группы/пользователя файла.</li></ul> <h2 id="использование-глобальных-переменных"><a href="#использование-глобальных-переменных" class="header-anchor">#</a> Использование глобальных переменных</h2> <p><strong>Примечание:</strong> С появлением PHP 5.4 директива <code>register_globals</code> была удалена и больше не может быть использована. Это касается тех, кому нужно обновить старое приложение.</p> <p>Включенный параметр конфигурации <code>register_globals</code> делает несколько типов переменных (в том числе из <code>$_POST</code>, <code>$_GET</code> и <code>$_REQUEST</code>) глобальными, доступными в глобальной области видимости вашего приложение. Это может легко привести к проблемам с безопасностью, поскольку ваше приложение не сможет эффективно определить откуда пришли данные.</p> <p>Например : <code>$_GET['foo']</code> будет доступна через <code>$foo</code>, которая может заместить переменную, которая не была объявлена. Если вы используете PHP &lt; 5.4.0 <strong>убедитесь</strong> что <code>register_globals</code> <strong>off</strong> (выключена).</p> <ul><li><a href="http://www.php.net/manual/ru/security.globals.php" target="_blank" rel="noopener noreferrer">Register_globals в руководстве PHP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="сообщения-об-ошибках"><a href="#сообщения-об-ошибках" class="header-anchor">#</a> Сообщения об ошибках</h2> <p>Логирование ошибок полезно при поиске проблемных мест вашего приложения, также логирование может выдать информацию о структуре вашего приложения. Для эффективной защиты вашего приложения от проблем, которые могут быть вызваны выводом этих сообщений, вам необходимы различные настройки сервера для разработки и продакшна.</p> <h3 id="разработка"><a href="#разработка" class="header-anchor">#</a> Разработка</h3> <p>Для того, чтобы видеть все возможные ошибки во время <strong>разработки</strong>, настройте следующие параметры в вашем <code>php.ini</code>:</p> <div class="language- extra-class"><pre><code>display_errors = On
display_startup_errors = On
error_reporting = -1
log_errors = On
</code></pre></div><blockquote><p>Установка значения в <code>-1</code> покажет каждую возможную ошибку, даже если новые уровни и константы будут добавлены в новых версиях PHP. Константа <code>E_ALL</code> ведёт себя так-же в PHP 5.4. — <a href="http://php.net/manual/function.error-reporting.php" target="_blank" rel="noopener noreferrer">php.net<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>Константа уровня ошибок <code>E_STRICT</code> была введена в 5.3.0 и не является частью <code>E_ALL</code>, как бы то ни было, она стала частью <code>E_ALL</code> в 5.4.0 Что это значит? Для вывода всех возможных ошибок в версии 5.3 вам нужно использовать либо <code>-1</code> либо <code>E_ALL | E_STRICT</code>.</p> <p><strong>Вывод всех ошибок разными версиями PHP</strong></p> <ul><li>&lt; 5.3 <code>-1</code> or <code>E_ALL</code></li> <li>  5.3 <code>-1</code> or <code>E_ALL | E_STRICT</code></li> <li>&gt; 5.3 <code>-1</code> or <code>E_ALL</code></li></ul> <h3 id="продакшн"><a href="#продакшн" class="header-anchor">#</a> Продакшн</h3> <p>Чтобы спрятать все ошибки вашей среды во время <strong>продакшна</strong>, настройте ваш <code>php.ini</code> следующим образом:</p> <div class="language- extra-class"><pre><code>display_errors = Off
display_startup_errors = Off
error_reporting = E_ALL
log_errors = On
</code></pre></div><p>С этими настройками в продакшне, ошибки всё также будут записываться в лог ошибок веб сервера, но не будут показаны пользователю. Для подробной информации об этих настройках, смотрите руководство PHP:</p> <ul><li><a href="http://php.net/manual/errorfunc.configuration.php#ini.error-reporting" target="_blank" rel="noopener noreferrer">error_reporting<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://php.net/manual/errorfunc.configuration.php#ini.display-errors" target="_blank" rel="noopener noreferrer">display_errors<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://php.net/manual/errorfunc.configuration.php#ini.display-startup-errors" target="_blank" rel="noopener noreferrer">display_startup_errors<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://php.net/manual/errorfunc.configuration.php#ini.log-errors" target="_blank" rel="noopener noreferrer">log_errors<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="../../docs/md/06_db.html" class="prev">
        Базы данных
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="../../assets/js/app.1cba38f9.js" defer></script><script src="../../assets/js/2.733019b2.js" defer></script><script src="../../assets/js/15.c6688901.js" defer></script>
  </body>
</html>
